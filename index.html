<!DOCTYPE html>
<html ng-app="appTodo">
<head lang="en">
    <meta charset="UTF-8">
    <title>Todo List</title>
    <script type="text/javascript" src="angular-1.3.15.min.js" ></script>
    <script type="text/javascript" src="app.js" ></script>
</head>
<body ng-controller="controller_todo">

<form name="form" novalidate ng-submit="submitForm()">
    <ul>
        <li>
            <label>Todo:
                <input type="text" name="description" ng-model="model_todo.description" required/><!--ng-model-options="{ updateOn: 'blur' }" -->
            </label>
            <div class="custom-error" ng-show="form.description.$invalid">
                <span ng-show="form.description.$error.required">Required</span>
            </div>
        </li>
        <li>
            <label>Done:
                <input type="checkbox" ng-model="model_todo.done" />
            </label>
        </li>
        <li>
            <input type="submit" value="Salvar" /> <!--ng-disabled="form.description.$pristine || form.description.$dirty && form.description.$invalid">-->
        </li>
    </ul>
</form>
<table border="1">
    <thead>
        <tr>
            <th>Todo</th>
            <th>Done</th>
            <th></th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="todo in data">
            <td ng-bind="todo.description"></td>
            <td><input type="checkbox" ng-model="todo.done" /></td>
            <td><input type="button" ng-click="edit_item($index)" value="Edit" /></td>
            <td><input type="button" ng-click="delete_item($index)" value="Delete" /></td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td>Todos: {{ getTotalTodos() }}</td>
            <td><input type="button" ng-click="delete_todos(true)" value="Clear Done" /></td>
            <td><input type="button" ng-click="delete_todos(false)" value="Clear All" /></td>
        </tr>
    </tfoot>
</table>
</body>
</html>